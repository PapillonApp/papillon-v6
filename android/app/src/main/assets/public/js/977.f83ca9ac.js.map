{"version":3,"file":"js/977.f83ca9ac.js","mappings":"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","sources":["webpack://papillon/./src/views/news/InfoView.vue","webpack://papillon/./src/views/news/InfoView.vue?4681","webpack://papillon/./src/views/news/NewsView.vue","webpack://papillon/./src/views/news/NewsView.vue?3b81"],"sourcesContent":["<script>\n\timport {\n\t\tdefineComponent\n\t} from 'vue';\n\timport {\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonList,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonButtons,\n\t\tIonTitle,\n\t\tIonContent,\n\t\tIonSkeletonText,\n\t\tIonBackButton\n\t} from '@ionic/vue';\n\n\timport { Browser } from '@capacitor/browser';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonToolbar,\n\t\t\tIonButtons,\n\t\t\tIonBackButton,\n\t\t\tIonTitle,\n\t\t\tIonContent,\n\t\t\tIonSkeletonText,\n\t\t\tIonList,\n\t\t\tIonItem,\n\t\t\tIonLabel\n\t\t},\n\t\tprops: {\n\t\t\turlNews: {\n\t\t\t\ttype: String,\n\t\t\t\trequired: true,\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\tlet backTitle = 'Retour';\n\n\t\t\t// get current route\n\t\t\tconst currentRoute = this.$router.currentRoute.value;\n\n\t\t\tif(currentRoute.name == \"News\") {\n\t\t\t\tbackTitle = 'Actualités';\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbackTitle: backTitle,\n\t\t\t\topenedNews: [],\n\t\t\t\tshortName: '',\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync openLink(url) {\n\t\t\t\tawait Browser.open({\n\t\t\t\t\turl: url,\n\t\t\t\t\tpresentationStyle: 'popover',\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetLettersFromName(name) {\n\t\t\t\t// if first letter is M, remove first word\n\t\t\t\tif (name[0] == 'M') {\n\t\t\t\t\tname = name.split(' ').slice(1).join(' ');\n\t\t\t\t}\n\n\t\t\t\tconst shortName = name.match(/\\b(\\w)/g).join('');\n\n\t\t\t\t// if shortName > 2, return first 2 letters\n\t\t\t\tif (shortName.length > 2) {\n\t\t\t\t\treturn shortName.slice(0, 2);\n\t\t\t\t}\n\n\t\t\t\treturn shortName;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t// if urlNews prop is set\n\t\t\tif(this.urlNews) {\n\t\t\t\tconst encoded = this.urlNews;\n\n\t\t\t\t// decode url\n\t\t\t\tconst decoded = decodeURIComponent(encoded);\n\n\t\t\t\t// parse json\n\t\t\t\tconst parsed = JSON.parse(decoded);\n\n\t\t\t\t// open urlNews\n\t\t\t\tthis.openedNews = parsed;\n\n\t\t\t\t// get short name\n\t\t\t\tthis.shortName = this.getLettersFromName(this.openedNews.author);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t});\n</script>\n\n<template>\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<IonBackButton class=\"only-ios\" :text=\"backTitle\" @click=\"pop\"></IonBackButton>\n\t\t\t\t\t<IonBackButton class=\"only-md\" @click=\"pop\"></IonBackButton>\n\t\t\t\t</ion-buttons>\n\n\t\t\t\t<ion-title v-if=\"openedNews\">{{ openedNews.title }}</ion-title>\n\t\t\t\t<ion-title v-else><ion-skeleton-text style=\"width: 200px;\"></ion-skeleton-text></ion-title>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\">\n\t\t\t<div v-if=\"openedNews\">\n\t\t\t\t<ion-header collapse=\"condense\">\n\t\t\t\t\t<ion-toolbar>\n\t\t\t\t\t\t<h1 class=\"mainTitle\">{{ openedNews.title }}</h1>\n\t\t\t\t\t</ion-toolbar>\n\t\t\t\t\t<ion-toolbar>\n\t\t\t\t\t\t<IonItem>\n\t\t\t\t\t\t\t<div class=\"avatar\" slot=\"start\">\n\t\t\t\t\t\t\t\t{{ shortName }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t\t<h2>{{ openedNews.author }}</h2>\n\t\t\t\t\t\t\t\t<p>{{ openedNews.dateString }}</p>\n\t\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t\t</IonItem>\n\t\t\t\t\t</ion-toolbar>\n\t\t\t\t</ion-header>\n\n\t\t\t\t<IonList class=\"only-md\">\n\t\t\t\t\t<IonItem>\n\t\t\t\t\t\t<div class=\"avatar\" slot=\"start\">\n\t\t\t\t\t\t\t{{ shortName }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t<h2>{{ openedNews.author }}</h2>\n\t\t\t\t\t\t\t<p>{{ openedNews.dateString }}</p>\n\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t</IonItem>\n\t\t\t\t</IonList>\n\n\t\t\t\t<IonList v-if=\"openedNews.isSurvey\" inset>\n\t\t\t\t\t<IonItem color=\"danger\">\n\t\t\t\t\t\t<span class=\"material-symbols-outlined mdls\" slot=\"start\">contact_support</span>\n\t\t\t\t\t\t<IonLabel class=\"ion-text-wrap\">\n\t\t\t\t\t\t\t<h2>Cette news contient un sondage</h2>\n\t\t\t\t\t\t\t<p>Papillon ne permet pas de répondre aux sondages.</p>\n\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t</IonItem>\n\t\t\t\t</IonList>\n\n\t\t\t\t<div class=\"content\" v-html=\"openedNews.htmlContent\"></div>\n\n\t\t\t\t<div v-if=\"openedNews.attachments\">\n\t\t\t\t\t<IonLabel class=\"listGroupTitle\" v-if=\"openedNews.attachments.length !== 0\">\n\t\t\t\t\t\t<p>Documents attachés</p>\n\t\t\t\t\t</IonLabel>\n\n\t\t\t\t\t<IonList v-if=\"openedNews.attachments.length !== 0\" class=\"listGroup\">\n\t\t\t\t\t\t<IonItem v-for=\"attachment in openedNews.attachments\" :key=\"attachment.id\" @click=\"openLink(attachment.url)\">\n\t\t\t\t\t\t\t<span v-if=\"attachment.type == 1\" class=\"material-symbols-outlined mdls\" slot=\"start\">description</span>\n\t\t\t\t\t\t\t<span v-else-if=\"attachment.type == 0\" class=\"material-symbols-outlined mdls\" slot=\"start\">link</span>\n\t\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t\t<h2>{{ attachment.name }}</h2>\n\t\t\t\t\t\t\t\t<p>{{ attachment.url }}</p>\n\t\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t\t</IonItem>\n\t\t\t\t\t</IonList>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</ion-content>\n</template>\n\n<style scoped>\n\t.mainTitle {\n\t\tmargin-top: 0px;\n\t\tmargin: auto 16px !important;\n\t}\n\n\t.content {\n\t\tmargin: 10px 20px;\n\t}\n\n\t.avatar {\n\t\twidth: 38px;\n\t\theight: 38px;\n\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\n\t\tbackground: linear-gradient(180deg, #b4b4b4 0%,#7e7e7e 100%);\n\t\tborder-radius: 50%;\n\n\t\tcolor: #fff;\n\n\t\tfont-weight: 500;\n\t\tfont-size: 1.05rem;\n\n\t\tpadding-bottom: 1px;\n\t}\n\n\t.md .avatar {\n\t\tbackground: rgba(var(--ion-color-primary-rgb), 0.2);\n\t\tcolor: var(--ion-color-primary);\n\t\tmargin-right: 15px;\n\t}\n</style>\n","import { render } from \"./InfoView.vue?vue&type=template&id=532a17eb&scoped=true\"\nimport script from \"./InfoView.vue?vue&type=script&lang=js\"\nexport * from \"./InfoView.vue?vue&type=script&lang=js\"\n\nimport \"./InfoView.vue?vue&type=style&index=0&id=532a17eb&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-532a17eb\"]])\n\nexport default __exports__","<script>\n    import { defineComponent } from 'vue';\n    import { IonHeader, IonContent, IonToolbar, IonTitle, IonMenuButton, IonPage, IonButtons, IonList, IonLabel, IonItem, IonSpinner, IonSearchbar, IonNavLink } from '@ionic/vue';\n    \n    import { Browser } from '@capacitor/browser';\n\n    import GetNews from '@/functions/fetch/GetNews.js';\n    import InfoView from './InfoView.vue';\n\n    export default defineComponent({\n        name: 'FolderPage',\n        components: {\n            IonHeader,\n            IonContent,\n            IonToolbar,\n            IonTitle,\n            IonMenuButton,\n            IonPage,\n            IonButtons,\n            IonItem,\n            IonLabel,\n            IonList,\n            IonSpinner,\n            IonSearchbar,\n            IonNavLink\n        },\n        props() {\n            return {\n                urlNews: {\n                    type: Object,\n                    default: []\n                }\n            }\n        },\n        data() {\n            return { \n                InfoView: InfoView,\n                news: [],\n                fullNews: [],\n                presentingElement: null,\n                isLoading: false,\n            }\n        },\n        methods: {\n            async openLink(url) {\n                await Browser.open({\n                    url: url,\n\t\t\t\t\ttoolbarColor: '#1e1e1e',\n\t\t\t\t\tpresentationStyle: 'popover',\n                });\n            },\n            getNewsRefresh() {\n                this.isLoading = true;\n                GetNews(true).then((data) => {\n                    this.isLoading = false;\n                    this.news = data;\n                })\n            },\n            searchNews() {\n                const search1 = this.$refs.searchBar.$el.value;\n                const search2 = this.$refs.searchBar.$el.value;\n                const news = this.fullNews;\n\n                if (search1 == \"\" && search2 == \"\") {\n                    this.news = news;\n                } else {\n                    const search = search1 == \"\" ? search2 : search1;\n                    // filter news by name, content and author\n                    const filteredNews = news.filter((news) => {\n                        return news.title.toLowerCase().includes(search.toLowerCase()) || news.content.toLowerCase().includes(search.toLowerCase()) || news.author.toLowerCase().includes(search.toLowerCase());\n                    });\n\n                    this.news = filteredNews;\n                }\n            },\n            handleRefresh(event) {\n                // get new News data\n                this.getNewsRefresh()\n\n                // stop refresh when this.news is updated\n                this.$watch('news', () => {\n                    setTimeout(() => {\n                        event.target.complete();\n                    }, 200);\n                });\n            },\n        },\n        mounted() {\n            this.presentingElement = this.$refs.page.$el;\n\n            this.isLoading = true;\n            GetNews().then((data) => {\n                this.news = data;\n                this.fullNews = data;\n                \n                this.isLoading = false;\n            });\n\n            document.addEventListener('tokenUpdated', () => {\n                this.getNewsRefresh();\n            });\n        }\n    });\n</script>\n\n<template>\n    <ion-page ref=\"page\">\n      <IonHeader class=\"AppHeader\" translucent>\n        <IonToolbar>\n\n          <ion-buttons slot=\"start\">\n            <ion-menu-button color=\"dark\"></ion-menu-button>\n          </ion-buttons>\n\n          <ion-title>Actualités</ion-title>\n        </IonToolbar>\n      </IonHeader>\n      \n      <ion-content :fullscreen=\"true\">\n        <ion-header collapse=\"condense\">\n\t\t\t<ion-toolbar>\n\t\t\t\t<ion-title size=\"large\">Actualités</ion-title>\n\t\t\t</ion-toolbar>\n            <IonToolbar>\n                <ion-searchbar ref=\"searchBar\" placeholder=\"Rechercher une actualité, une personne...\" @ionInput=\"searchNews()\"></ion-searchbar>\n            </IonToolbar>\n\t\t</ion-header>\n\n        <ion-refresher slot=\"fixed\" @ionRefresh=\"handleRefresh($event)\">\n            <ion-refresher-content></ion-refresher-content>\n        </ion-refresher>\n\n        <Transition name=\"NoCoursAnim\">\n            <div class=\"NoCours\" v-if=\"news.length == 0 && isLoading\">\n                <IonSpinner></IonSpinner>\n                <br/>\n                <h2>Téléchargement des actualités...</h2>\n                <p>Veuillez patienter pendant qu'on récupère les actualités depuis nos serveurs...</p>\n            </div>\n            <div class=\"NoCours\" v-else-if=\"news.length == 0 && !isLoading\">\n                <span class=\"material-symbols-outlined mdls\">feed</span>\n                <h2>Aucune actualité n'a été trouvée.</h2>\n                <p>Revenez plus tard ou essayer de rafraîchir.</p>\n            </div>\n        </Transition>\n\n        <IonList v-if=\"news.length !== 0\">\n            <IonNavLink v-for=\"(news, i) in news\" v-bind:key=\"i\" router-direction=\"forward\" :component=\"InfoView\" :componentProps=\"{urlNews: encodeURIComponent(JSON.stringify(news))}\">\n                <IonItem button>\n                    <span v-if=\"news.title.toLowerCase().includes('menu')\" slot=\"start\" class=\"material-symbols-outlined mdls emoji\">restaurant</span>\n                    <span v-else-if=\"!news.isSurvey\" class=\"material-symbols-outlined mdls\" slot=\"start\">feed</span>\n                    <span v-else-if=\"news.isSurvey\" class=\"material-symbols-outlined mdls\" slot=\"start\">contact_support</span>\n                        <IonLabel>\n                            <h2>{{ news.title }}</h2>\n                            <p>{{ news.author }} - {{ news.category }}</p>\n                            <small>{{ news.dateString }}</small>\n                        </IonLabel>\n                </IonItem>\n            </IonNavLink>\n        </IonList>\n      </ion-content>\n    </ion-page>\n</template>\n  \n<style scoped>\n    .ios .only-md {\n        display: none;\n    }\n\n    .newsModalContent * {\n        margin: 0;\n    }\n\n    .newsModalContent hr {\n        margin: 15px 0px;\n        background: #000;\n        opacity: 25%;\n    }\n\n    .newsModalContent .chips {\n        margin-top: 20px !important;\n        margin-bottom: 20px !important;\n\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .newsModalContent .chips ion-chip {\n        margin-right: 5px;\n        margin-bottom: 5px;\n    }\n\n    .newsModalContent .chips span {\n        opacity: 50%;\n        margin-right: 8px;\n    }\n\n    .newsModalContent .chips ion-chip p {\n        max-width: 160px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .dark .newsModalContent hr {\n        background: #fff !important;\n    }\n\n    .newsModalContent h1 {\n        font-size: 1.5em;\n        font-weight: 300 !important;\n    }\n\n    .newsModalContent small {\n        font-size: 0.9em;\n        font-weight: 400;\n        opacity: 0.5;\n    }\n\n    .newsModalContentContent {\n        zoom: 1.2;\n        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    }\n\n    .survey-warning {\n        margin: 25px 0px;\n        color: var(--ion-color-danger);\n        --background: var(--ion-color-danger-dark);\n    }\n\n    .survey-warning p {\n        white-space: pre-line;\n    }\n\n    .survey-warning::part(native) {\n        padding: 10px 18px;\n        border-radius: 11px;\n    }\n</style>\n","import { render } from \"./NewsView.vue?vue&type=template&id=5e1e06a8&scoped=true\"\nimport script from \"./NewsView.vue?vue&type=script&lang=js\"\nexport * from \"./NewsView.vue?vue&type=script&lang=js\"\n\nimport \"./NewsView.vue?vue&type=style&index=0&id=5e1e06a8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e1e06a8\"]])\n\nexport default __exports__"],"names":["class","slot","_createElementVNode","_createVNode","_component_IonHeader","translucent","_component_IonToolbar","_component_ion_buttons","_component_IonBackButton","text","_ctx","backTitle","onClick","pop","openedNews","_createBlock","_component_ion_title","key","title","_component_ion_skeleton_text","style","_component_ion_content","fullscreen","_createElementBlock","_hoisted_1","_component_ion_header","collapse","_component_ion_toolbar","_hoisted_2","_toDisplayString","_component_IonItem","_hoisted_3","shortName","_component_IonLabel","author","dateString","_component_IonList","_hoisted_4","isSurvey","inset","color","_hoisted_5","_hoisted_6","_hoisted_7","innerHTML","htmlContent","attachments","_hoisted_9","length","_hoisted_10","_Fragment","_renderList","attachment","id","$event","openLink","url","type","_hoisted_11","_hoisted_12","name","defineComponent","components","IonHeader","IonToolbar","IonButtons","IonBackButton","IonTitle","IonContent","IonSkeletonText","IonList","IonItem","IonLabel","props","urlNews","String","required","data","currentRoute","this","$router","value","methods","async","Browser","presentationStyle","getLettersFromName","split","slice","join","match","mounted","encoded","decoded","decodeURIComponent","parsed","JSON","parse","__exports__","render","_hoisted_8","_component_ion_page","ref","_component_ion_menu_button","size","_component_ion_searchbar","placeholder","onIonInput","_cache","searchNews","_component_ion_refresher","onIonRefresh","handleRefresh","_component_ion_refresher_content","_Transition","news","isLoading","_component_IonSpinner","i","_component_IonNavLink","component","InfoView","componentProps","encodeURIComponent","stringify","button","toLowerCase","includes","category","IonMenuButton","IonPage","IonSpinner","IonSearchbar","IonNavLink","Object","default","fullNews","presentingElement","toolbarColor","getNewsRefresh","GetNews","then","search1","$refs","searchBar","$el","search2","search","filteredNews","filter","content","event","$watch","setTimeout","target","complete","page","document","addEventListener"],"sourceRoot":""}